d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 30####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA30"])
d2 = subset(cpueData,LFA==30)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,3.0,1.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
par(mfrow=c(2,2))
####LFA 27####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA27"])
d2 = subset(cpueData,LFA==27)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,5.5,2.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 28####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA28"])
d2 = subset(cpueData,LFA==28)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,3.0,2.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
######LFA 29#####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA29"])
d2 = subset(cpueData,LFA==29)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 30####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA30"])
d2 = subset(cpueData,LFA==30)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,3.0,1.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
par(mfrow=c(2,2))
####LFA 27####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA27"])
d2 = subset(cpueData,LFA==27)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,5.5,2.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 28####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA28"])
d2 = subset(cpueData,LFA==28)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,3.0,2.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
######LFA 29#####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA29"])
d2 = subset(cpueData,LFA==29)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 30####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA30"])
d2 = subset(cpueData,LFA==30)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,3.0,1.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
par(mfrow=c(2,2))
####LFA 27####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA27"])
d2 = subset(cpueData,LFA==27)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,5.5,2.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
####LFA 28####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA28"])
d2 = subset(cpueData,LFA==28)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,3.0,2.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
######LFA 29#####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA29"])
d2 = subset(cpueData,LFA==29)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
####LFA 30####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA30"])
d2 = subset(cpueData,LFA==30)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,3.0,1.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3,lty=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='steelblue4')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
par(mfrow=c(2,2))
####LFA 27####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA27"])
d2 = subset(cpueData,LFA==27)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,5.5,2.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
####LFA 28####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA28"])
d2 = subset(cpueData,LFA==28)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,3.0,2.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
######LFA 29#####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA29"])
d2 = subset(cpueData,LFA==29)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
####LFA 30####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA30"])
d2 = subset(cpueData,LFA==30)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,3.0,1.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
par(mfrow=c(2,2))
####LFA 31A####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA31A"])
d2 = subset(cpueData,LFA== "31A")
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,5.5,2.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
####LFA 31B####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA31B"])
d2 = subset(cpueData,LFA=="31B")
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(1.5,3.0,2.0,5.5))
plot(data$YEAR,data$LANDINGS,ylab=' ',type='h',xlim=xlim, xlab=" ", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
mtext("Effort ('000s Trap Hauls)",cex = 0.75, side=4, line = 3, outer = F, las = 0)
######LFA 32#####
d1 = data.frame(YEAR = land$YR, LANDINGS = land[,"LFA32"])
d2 = subset(cpueData,LFA==32)
d2 = merge(data.frame(LFA=d2$LFA[1],YEAR=min(d2$YEAR):max(d2$YEAR)),d2,all.x=T)
data=fishData = merge(d2,d1)
data$EFFORT2=fishData$EFFORT2 = fishData$LANDINGS * 1000 / fishData$CPUE
par(mar=c(4.0,5.5,1.0,3.0))
plot(data$YEAR,data$LANDINGS,ylab='Landings(t)',type='h',xlim=xlim, xlab="Year", ylim=c(0,max(data$LANDINGS)*1.2),pch=15,col='gray73',border=c("black"),lwd=10,lend=3)
lines(data$YEAR[nrow(data)],data$LANDINGS[nrow(data)],type='h',density = 30,pch=21,col='steelblue4',lwd=10,lend=3)
par(new=T)
plot(data$YEAR,data$EFFORT2/1000,ylab='',xlab='', type='b', pch=16, axes=F,xlim=xlim,ylim=c(0,max(data$EFFORT2/1000,na.rm=T)))
points(data$YEAR[nrow(data)],data$EFFORT2[nrow(data)]/1000, type='b', pch=24,size = 2,bg='black')
axis(4)
mtext("Effort ('000s Trap Hauls)", cex = 0.75, side=4, line = 3, outer = F, las = 0)
land = lobster.db('annual.landings')
get.wd()
getwd()
p = bio.lobster::load.environment()
require(SpatialHub)
require(lubridate)
la()
assessment.year = p$current.assessment.year
p$current.assessment.year = p$current.assessment.year - 1
p$lfas = c("27", "28", "29", "30", "31A", "31B", "32") # specify lfas for data summary
p$subareas = c("27N","27S", "28", "29", "30", "31A", "31B", "32") # specify lfas for data summary
# update data through ROracle
NewDataPull =F
if(NewDataPull){
lobster.db('fsrs.redo')
lobster.db('logs.redo')
lobster.db('annual.landings.redo')
lobster.db('vlog.redo')
logs=lobster.db('process.logs.redo')
}
land = lobster.db('annual.landings')
land
tail(land)
xlim=c(1985,2020)
par(mfrow=c(2,2))
####27####
crd = subset(cpueData,LFA==27,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,5.5,2.0,3.0))
plot(crd[,1],crd[,2],xlab=' ',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 28 ####
crd = subset(cpueData,LFA==28,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,2.0,2.0,5.5))
plot(crd[,1],crd[,2],xlab=' ',ylab=' ',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 29 ####
crd = subset(cpueData,LFA==29,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,5.5,1.5,3.0))
plot(crd[,1],crd[,2],xlab='Year',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 30 ####
crd = subset(cpueData,LFA==30,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,2.0,1.5,5.5))
plot(crd[,1],crd[,2],xlab='Year',ylab=' ',type='p',pch=16, xlim=xlim, ylim =c(0,0.8))
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
xlim=c(1985,2020)
par(mfrow=c(2,2))
####27####
crd = subset(cpueData,LFA==27,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,5.5,2.0,3.0))
plot(crd[,1],crd[,2],xlab=' ',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 28 ####
crd = subset(cpueData,LFA==28,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,2.0,2.0,5.5))
plot(crd[,1],crd[,2],xlab=' ',ylab=' ',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 29 ####
crd = subset(cpueData,LFA==29,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,5.5,1.5,3.0))
plot(crd[,1],crd[,2],xlab='Year',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 30 ####
crd = subset(cpueData,LFA==30,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,2.0,1.5,5.5))
plot(crd[,1],crd[,2],xlab='Year',ylab=' ',type='p',pch=16, xlim=xlim, ylim =c(0.1,0.7))
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
xlim=c(1985,2020)
par(mfrow=c(2,2))
####27####
crd = subset(cpueData,LFA==27,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,5.5,2.0,3.0))
plot(crd[,1],crd[,2],xlab=' ',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 28 ####
crd = subset(cpueData,LFA==28,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,2.0,2.0,5.5))
plot(crd[,1],crd[,2],xlab=' ',ylab=' ',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 29 ####
crd = subset(cpueData,LFA==29,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,5.5,1.5,3.0))
plot(crd[,1],crd[,2],xlab='Year',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 30 ####
crd = subset(cpueData,LFA==30,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,2.0,1.5,5.5))
plot(crd[,1],crd[,2],xlab='Year',ylab=' ',type='p',pch=16, xlim=xlim, ylim =c(0.1,2.75))
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
xlim=c(1985,2020)
par(mfrow=c(2,2))
####27####
crd = subset(cpueData,LFA==27,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,5.5,2.0,3.0))
plot(crd[,1],crd[,2],xlab=' ',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 28 ####
crd = subset(cpueData,LFA==28,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(1.5,2.0,2.0,5.5))
plot(crd[,1],crd[,2],xlab=' ',ylab=' ',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 29 ####
crd = subset(cpueData,LFA==29,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,5.5,1.5,3.0))
plot(crd[,1],crd[,2],xlab='Year',ylab='CPUE (kg/TH)',type='p',pch=16, xlim=xlim)
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
#### 30 ####
crd = subset(cpueData,LFA==30,c("YEAR","CPUE"))
usr = mu[i] * 0.8
lrp = mu[i] * 0.4
crd  = merge(data.frame(YEAR=min(crd$YEAR):max(crd$YEAR)),crd,all.x=T)
par(mar=c(4.0,2.0,1.5,5.5))
plot(crd[,1],crd[,2],xlab='Year',ylab=' ',type='p',pch=16, xlim=xlim, ylim =c(0,3.0))
running.median = with(rmed(crd[,1],crd[,2]),data.frame(YEAR=yr,running.median=x))
crd=merge(crd,running.median,all=T)
lines(crd[,1],crd$running.median,col='blue',lty=1,lwd=2)
abline(h=usr,col='green',lwd=2,lty=2)
abline(h=lrp,col='red',lwd=2,lty=3)
bookdown::render_book("index.Rmd")
setwd("C:/Users/howsevj/Documents/27-33Update")
bookdown::render_book("index.Rmd")
